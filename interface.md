# 后端接口文档

使用方式为post请求 http://120.79.204.39:8444/+路径

- ## 错误码
 >- 500 内部代码错误
 >- 505 参数传递错误
 >- 200 成功
- ## 登录模块
 >一、 查询用户名/邮箱是否已存在
 >>-  **路径**：/login/verification_username
 >>-  **描述**：查询用户名/邮箱是否已注册
 >>-  **传入参数**：
 >>-  1.username：用户将注册的用户名/邮箱，字符串
 >>- **返回结果**：status,字符串，"已存在","可以使用”  

 >二、 邮箱验证码发送
 >>-  **路径**：/login/verification_code
 >>-  **描述**：发送邮箱验证码
 >>-  **传入参数**：
 >>-  1.email：用户将注册的邮箱，字符串
 >>- **返回结果**：code，整数，邮箱验证码

 >三、 注册用户
 >>-  **路径**：/login/register
 >>-  **描述**：传入注册信息
 >>-  **传入参数**：
 >>-  1. username:用户名，字符串 小于16位
 >>   2. password:密码，字符串 小于16位
 >>   3. email ：注册邮箱，字符串 
 >>- **返回结果**：user_id,整数，代表每个用户对应的唯一id
 >
 >四、用户登录
 >
 >> - **路径**：/login/login
 >> - **描述**: 用户登录，账户名称和邮箱名称均可
 >> - **传入参数**：
 >> - 1. username: 用户名/邮箱，字符串
 >>   2. password:用户密码，字符串
 >> - **返回结果**:
 >> - 1. result: 登录结果，字符串 
 >>   2. user_id:如果登录成功会返回用户id，整数

- ## 上传模块

> 一、上传头像
>
> > - **路径**：/upload/icon
> > - **描述**：上传用户头像，会返回文件在服务器存储的后缀，访问格式为120.79.204.39:8888/icon/+url
> > - **传入参数**：
> > - 1. file,用户头像，压缩在1M一下，文件格式
> > - **返回结果**：
> > - 1. filename,字符串，图片在服务器中保存后缀
>
> 二、上传评论图片
>
> > - **路径**：/upload/comment
> > - **描述**：上传用户头像，会返回文件在服务器存储的后缀，访问格式为120.79.204.39:8888/comment/+url
> > - **传入参数**：
> > - 1. file,用户头像，文件格式
> > - **返回结果**：
> > - 1. filename,字符串，图片在服务器中保存后缀

- ## 餐品信息模块

> 一、 查询菜品详细信息
>
> > - **路径**：/menu/info
> > - **描述**：根据餐品id查询餐品信息
> > - **传入参数**：
> > - 1. dishId：餐品id，整数
> > - **返回结果**：
> > - 1. dishId：餐品id，整数
> >   2. name ：名称，字符串
> >   3. avatar：头像后缀，字符串，访问格式为120.79.204.39:8888/icon/+后缀
> >   4. level: 评级，double小数
> >   5. price：价格，double 小数
> >   6. loc_Canteen:餐品位于哪个食堂，字符串
> >   7. loc_Floor:餐品位于哪层，字符串
> >   8. loc_Window:餐品位于窗口，字符串
> >   9. discription：餐品详细描述，字符串
>
> 二、添加餐品
>
> > - **路径**：/menu/add
> > - **描述**：增加一个餐品
> > - **传入参数**：
> > - 1. name ：名称，字符串
> >   2. avatar：头像后缀，字符串，
> >   3. level: 评级，double小数
> >   4. price：价格，double 小数
> >   5. loc_Canteen:餐品位于哪个食堂，字符串
> >   6. loc_Floor:餐品位于哪层，字符串
> >   7. loc_Window:餐品位于窗口，字符串
> >   8. discription：餐品详细描述，字符串
> > - **返回结果**：
> > - 1. dish_id:餐品唯一对应id，整数Integer
>
> 三、更新餐品信息
>
> > - **路径**：/menu/add
> > - **描述**：用dish_id更新餐品信息
> > - **传入参数**：
> > - 1. （必填）dishId：餐品对应id，整数
> >   2. name ：名称，字符串
> >   3. avatar：头像后缀，字符串，
> >   4. level: 评级，double小数
> >   5. price：价格，double 小数
> >   6. loc_Canteen:餐品位于哪个食堂，字符串
> >   7. loc_Floor:餐品位于哪层，字符串
> >   8. loc_Window:餐品位于窗口，字符串
> >   9. discription：餐品详细描述，字符串
> > - **返回结果**：
> > - 1. dish_id:餐品唯一对应id，整数Integer
>
> 四、根据关键字对餐品名称进行搜索
>
> > - **路径**：/menu/query
> > - **描述**：根据餐品名称关键字对餐品搜索
> > - **传入参数**：
> > - 1. keywords：关键字，字符串
> > - **返回结果**：
> > - 【数组】，每个元素均包含以下内容
> > - 1. name ：名称，字符串
> >   2. avatar：头像后缀，字符串，
> >   3. level: 评级，double小数
> >   4. price：价格，double 小数
> >   5. loc_Canteen:餐品位于哪个食堂，字符串
> >   6. loc_Floor:餐品位于哪层，字符串
> >   7. loc_Window:餐品位于窗口，字符串
> >   8. discription：餐品详细描述，字符串
>
> 五、删除餐品信息
>
> > - **路径**：/menu/delete
> > - **描述**：删除某条餐品记录
> > - **传入参数**：
> > - 1. dishId:整数
> > - **返回结果**：
> > - 1. status，删除状态，字符串

- # 评论模块

> 一、增加评论
>
> > - **路径**：/comment/add
> > - **描述**：为某个餐品添加一条评论
> > - **传入参数**：
> > - 1. dishId:整数
> >   2. userId:整数
> >   3. level：餐品评分，double小数
> >   4. content：评价内容，String，限制长度
> >   5. photo：评价图片后缀，先调用上传接口，再传后缀，String格式
> > - **返回结果**：
> > - 1. comment_id:每条评论唯一对应的comment_id,整数
>
> 二、删除评论
>
> > - **路径**：/comment/delete
> > - **描述**：删除某位用户的某条评论
> > - **传入参数**：
> > - 1. commentId:整数
> >   2. userId:整数
> > - **返回结果**：
> > - 1. status: 删除结果，字符串
>
> 三、查找评论
>
> > - **路径**：/comment/query
> > - **描述**：根据不同场景加载不同评论
> > - **传入参数**：
> > - 1. status：整数 1代表根据userId查找评论 2代表根据dishId查找评论
> >   2. statusId: 整数 代表不同状态下的Id
> > - **返回结果**：【数组】每个元素均包含以下内容
> > - 1. commentId:整数
> >   2. dishId:整数
> >   3. userId:整数
> >   4. level：餐品评分，double小数
> >   5. content：评价内容，String，限制长度
> >   6. photo：评价图片后缀
> >   7. time：评论时间 date格式 例如："2019/05/29 14:07:55"





